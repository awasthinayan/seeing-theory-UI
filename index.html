<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Seeing Theory – style hero (clone)</title>
  <!-- STEP 0: This file is self‑contained. Save as index.html and open in a browser. -->
  <!-- Uses D3 for SVG + animations (CDN) -->
  <script src="https://unpkg.com/d3@7"></script>
  <style>
    :root{
      --bg:#2b2a3d;          /* deep desaturated indigo */
      --fg:#ffffff;          /* text color */
      --nav:#16162199;       /* translucent strip */
      --btn:#ffffff;
      --btnText:#121212;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--fg); background:var(--bg); overflow:hidden; /* full screen landing */
    }

    /* Top navigation */
    .nav{ position:fixed; inset:0 0 auto 0; height:64px; display:flex; align-items:center; justify-content:space-between; padding:0 28px; background:var(--nav); backdrop-filter: blur(6px); z-index:10; }
    .nav .left, .nav .right{ display:flex; gap:24px; align-items:center; }
    .nav a{ color:var(--fg); text-decoration:none; font-weight:500; opacity:.95; }
    .nav a:hover{ opacity:1; text-decoration:underline; }
    .lang{ appearance:none; background:transparent; border:1px solid #ffffff33; color:#fff; padding:6px 10px; border-radius:8px; }

    /* Hero content */
    .hero{ position:relative; width:100vw; height:100vh; display:grid; place-items:center; text-align:center; overflow:hidden; }
    .hero h1{ font-size: clamp(32px, 6vw, 56px); letter-spacing:.5px; margin:0 0 10px; font-weight:700; }
    .hero p{ font-size: clamp(14px, 2.2vw, 18px); opacity:.9; margin:0 0 24px; }
    .cta{ display:inline-block; padding:14px 34px; background:var(--btn); color:var(--btnText); border:0; border-radius:999px; font-weight:650; cursor:pointer; box-shadow:0 8px 30px #00000040; transition: transform .15s ease, box-shadow .2s ease; }
    .cta:hover{ transform: translateY(-1px); box-shadow:0 14px 34px #00000055; }

    /* SVG dots live behind everything */
    #dots-layer{ position:absolute; inset:0; z-index:0; }

    /* Small credit/footer note (optional) */
    .footer{ position:fixed; bottom:10px; left:50%; transform:translateX(-50%); font-size:12px; opacity:.65; letter-spacing:.2px; }
    @media (max-width:640px){ .nav{ padding:0 16px; } .nav .left{ gap:14px; } }
  </style>
</head>
<body>
  <!-- NAV -->
  <div class="nav">
    <div class="left">
      <a href="#">Home</a>
      <a href="#chapters">Chapters</a>
      <a href="#about">About</a>
      <a href="#book">Book</a>
    </div>
    <div class="right">
      <select class="lang" aria-label="Language">
        <option>English</option>
        <option>हिन्दी</option>
      </select>
    </div>
  </div>

  <!-- HERO -->
  <main class="hero">
    <!-- dots background -->
    <svg id="dots-layer" preserveAspectRatio="xMidYMid slice"></svg>

    <!-- foreground copy -->
    <div style="position:relative; z-index:1; margin-top:-40px">
      <h1>Seeing Theory</h1>
      <p>A visual introduction to probability and statistics.</p>
      <button class="cta" id="startBtn">Start</button>
    </div>
  </main>

  <div class="footer">Demo clone. Animated with D3.js</div>

  <!-- Only the script part is changed from your given code -->
<script>
  const palette = [
    '#f94144','#f3722c','#f9844a','#f9c74f',
    '#90be6d','#43aa8b','#4cc9f0','#577590',
    '#ff6f91','#ffc75f','#6a4c93'
  ];
  function lerp(a,b,t){ return a + (b-a)*t; }
  function rand(min,max){ return Math.random()*(max-min)+min; }
  function mush(t, freq=1, phase=0){
    return Math.sin((t+phase)*freq) * 0.6 + Math.sin((t+phase)*0.7*freq)*0.4; 
  }

  const svg = d3.select('#dots-layer');
  let gLeft = svg.append('g');
  let gRight = svg.append('g');
  let dots = [];

  let mouse = { x: window.innerWidth/2, y: window.innerHeight/2 };

  function build(){
    svg.selectAll('*').remove();
    gLeft = svg.append('g');
    gRight = svg.append('g');

    const { width:w, height:h } = svg.node().getBoundingClientRect();
    svg.attr('viewBox', `0 0 ${w} ${h}`);
    const cx = w/2, cy = h/2;
    const a = Math.min(w,h) * 0.40;
    const b = Math.min(w,h) * 0.46;
    const N = Math.round( lerp(60, 140, Math.min(1, w/1440)) );

    dots = [];

    for(let i=0;i<N;i++){
      const t = i/(N-1);
      const theta = lerp(-1.15*Math.PI/2, 1.15*Math.PI/2, t);
      const x = cx - Math.cos(theta)*a;
      const y = cy + Math.sin(theta)*b;
      dots.push({side:'L', x, y, baseX:x, baseY:y, r: rand(6, 20), c: palette[i % palette.length], phase: rand(0,Math.PI*2)});
    }
    for(let i=0;i<N;i++){
      const t = i/(N-1);
      const theta = lerp(-1.15*Math.PI/2, 1.15*Math.PI/2, t);
      const x = cx + Math.cos(theta)*a;
      const y = cy + Math.sin(theta)*b;
      dots.push({side:'R', x, y, baseX:x, baseY:y, r: rand(6, 20), c: palette[(i+3) % palette.length], phase: rand(0,Math.PI*2)});
    }

    gLeft.selectAll('circle').data(dots.filter(d=>d.side==='L')).enter()
      .append('circle')
      .attr('cx', d=>d.x)
      .attr('cy', d=>d.y)
      .attr('r', d=>d.r)
      .attr('fill', d=>d.c)
      .attr('opacity', 0.9);

    gRight.selectAll('circle').data(dots.filter(d=>d.side==='R')).enter()
      .append('circle')
      .attr('cx', d=>d.x)
      .attr('cy', d=>d.y)
      .attr('r', d=>d.r)
      .attr('fill', d=>d.c)
      .attr('opacity', 0.9);
  }

  let amp = 10, growth = 0.12, t0 = performance.now();
  const pushRadius = 200; // hover influence radius

  function tick(now){
    const t = (now - t0)/1000;
    svg.selectAll('circle').each(function(d,i){
      let wob = amp * mush(t + d.phase, 0.7, d.phase);
      let wobY = amp * 0.6 * mush(t + d.phase*0.7, 0.9, i*0.13);

      // mouse push
      let dx = d.x - mouse.x;
      let dy = d.y - mouse.y;
      let dist = Math.sqrt(dx*dx + dy*dy);

      if (dist < pushRadius) {
        let force = (pushRadius - dist) / pushRadius;
        let angle = Math.atan2(dy, dx);
        d.x += Math.cos(angle) * force * 8;
        d.y += Math.sin(angle) * force * 8;
      } else {
        // return to base
        d.x += (d.baseX - d.x) * 0.05;
        d.y += (d.baseY - d.y) * 0.05;
      }

      let rPulse = d.r * (1 + growth * Math.sin(t*0.8 + d.phase));

      d3.select(this)
        .attr('cx', d.x + wob*(d.side==='L'?-1:1))
        .attr('cy', d.y + wobY)
        .attr('r', rPulse);
    });
    requestAnimationFrame(tick);
  }

  const startBtn = document.getElementById('startBtn');
  startBtn.addEventListener('mouseenter', ()=>{ amp = 16; growth = 0.18; });
  startBtn.addEventListener('mouseleave', ()=>{ amp = 10; growth = 0.12; });

  window.addEventListener("mousemove", e => { mouse.x = e.clientX; mouse.y = e.clientY; });
  const ro = new ResizeObserver(() => build());
  ro.observe(document.body);

  build();
  requestAnimationFrame(tick);

  startBtn.addEventListener('click', () => {
    startBtn.textContent = 'Loading…';
    startBtn.disabled = true;
    setTimeout(()=>{
      startBtn.textContent = 'Start';
      startBtn.disabled = false;
      alert('Hook this button to your Chapters page.');
    }, 900);
  });
</script>

</body>
</html>
